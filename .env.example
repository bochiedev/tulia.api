# ============================================================================
# TULIA AI ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy this file to .env and configure with your actual values
# NEVER commit real secrets to version control
# ============================================================================

# ============================================================================
# DJANGO CORE SETTINGS
# ============================================================================
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(50))"
SECRET_KEY=your-secret-key-here-change-in-production
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# For development (SQLite - simple setup):
DATABASE_URL=sqlite:///db.sqlite3

# For production (PostgreSQL - recommended):
# DATABASE_URL=postgresql://tulia_user:tulia_pass@localhost:5432/tulia_db

DB_CONN_MAX_AGE=600

# ============================================================================
# REDIS & CELERY CONFIGURATION
# ============================================================================
# Redis is used for caching, rate limiting, and Celery task queue
REDIS_URL=redis://localhost:6379/0
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# ============================================================================
# AI MODEL CONFIGURATION (REQUIRED)
# ============================================================================
# Choose ONE of the following AI providers for the conversational bot
# The bot uses LangChain/LangGraph - no direct API key management needed

# Option 1: OpenAI (Recommended for best performance)
OPENAI_API_KEY=your-openai-key-here
OPENAI_MODEL=gpt-4o-mini  # Options: gpt-4o, gpt-4o-mini, gpt-4-turbo

# Option 2: Google Gemini (Cost-effective with large context)
# GEMINI_API_KEY=your-gemini-api-key-here
# Gemini models: gemini-1.5-pro, gemini-1.5-flash

# Option 3: Together AI (Open source models)
# TOGETHER_API_KEY=your-together-api-key-here
# Access to Llama, Mistral, Qwen models

# ============================================================================
# JWT AUTHENTICATION (REQUIRED)
# ============================================================================
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(50))"
JWT_SECRET_KEY=your-jwt-secret-key-here-must-be-at-least-32-chars
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24
JWT_REFRESH_EXPIRATION_DAYS=7

# ============================================================================
# ENCRYPTION (REQUIRED)
# ============================================================================
# Generate with: python -c "import os, base64; print(base64.b64encode(os.urandom(32)).decode('utf-8'))"
ENCRYPTION_KEY=your-base64-encoded-32-byte-key-here

# ============================================================================
# RAG SYSTEM (OPTIONAL - for AI knowledge base)
# ============================================================================
# Pinecone Vector Database for document-based AI responses
# PINECONE_API_KEY=your-pinecone-api-key-here
# PINECONE_INDEX_NAME=tulia-ai-rag
# PINECONE_DIMENSION=1536
# PINECONE_METRIC=cosine
# PINECONE_CLOUD=aws
# PINECONE_REGION=us-east-1

# Document processing settings
MAX_DOCUMENT_SIZE=10485760  # 10MB
RAG_CHUNK_SIZE=400
RAG_CHUNK_OVERLAP=50
RAG_TOP_K_RESULTS=5

# ============================================================================
# EMAIL CONFIGURATION (OPTIONAL)
# ============================================================================
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
# For production email (SendGrid example):
# EMAIL_HOST=smtp.sendgrid.net
# EMAIL_PORT=587
# EMAIL_USE_TLS=True
# EMAIL_HOST_USER=apikey
# EMAIL_HOST_PASSWORD=your-sendgrid-api-key
DEFAULT_FROM_EMAIL=noreply@trytulia.com

# ============================================================================
# FRONTEND CONFIGURATION
# ============================================================================
FRONTEND_URL=http://localhost:3000

# ============================================================================
# MONITORING (OPTIONAL)
# ============================================================================
# Sentry for error tracking
# SENTRY_DSN=your-sentry-dsn-here
# SENTRY_ENVIRONMENT=development

# ============================================================================
# SECURITY SETTINGS
# ============================================================================
RATE_LIMIT_ENABLED=True

# Logging
LOG_LEVEL=INFO
JSON_LOGS=False

# Subscription
DEFAULT_TRIAL_DAYS=14

# ============================================================================
# PAYMENT PROVIDERS (OPTIONAL - configured per tenant)
# ============================================================================
# These are global fallback settings. Actual payment credentials
# are configured per tenant in the admin interface.

# Stripe (International payments)
# STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
# STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key_here
# STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# Paystack (African payments)
# PAYSTACK_SECRET_KEY=sk_test_your_paystack_secret_key_here
# PAYSTACK_PUBLIC_KEY=pk_test_your_paystack_public_key_here

# M-Pesa (Kenya mobile payments)
# MPESA_CONSUMER_KEY=your_mpesa_consumer_key_here
# MPESA_CONSUMER_SECRET=your_mpesa_consumer_secret_here
# MPESA_SHORTCODE=174379
# MPESA_PASSKEY=your_mpesa_passkey_here
# MPESA_ENVIRONMENT=sandbox  # or production

# Pesapal (East African payments)
# PESAPAL_CONSUMER_KEY=your_pesapal_consumer_key_here
# PESAPAL_CONSUMER_SECRET=your_pesapal_consumer_secret_here
# PESAPAL_IPN_ID=your_pesapal_ipn_id_here
# PESAPAL_API_URL=https://cybqa.pesapal.com/pesapalv3

# ============================================================================
# CORS CONFIGURATION (PRODUCTION)
# ============================================================================
# For production, specify allowed origins (comma-separated)
# CORS_ALLOWED_ORIGINS=https://app.trytulia.com,https://admin.trytulia.com

# ============================================================================
# IMPORTANT NOTES
# ============================================================================
# 1. TWILIO CREDENTIALS: Configure per tenant in admin, NOT here
# 2. WOOCOMMERCE/SHOPIFY: Configure per tenant in admin, NOT here
# 3. AI MODELS: Only ONE provider needed (OpenAI recommended)
# 4. FUTURE: Meta Tech Provider integration will replace Twilio
# 5. Generate strong keys for production using the commands above
# ============================================================================